!https://secure.travis-ci.org/inspire9/eventifier.png!:http://travis-ci.org/inspire9/eventifier

h1. Eventifier

Event tracking and notifying for active record models

h2. Features

Tracks and logs events on active record objects
Send notifications of events

h2. Example

<pre><code>
class EventTracking
  include Eventifier::EventTracking

  def initialize
    events_for Post do
      track_on [:create, :update, :destroy], :attributes => { :except => %w(updated_at) }
      notify :group => :members, :on => [:create, :update]
    end

    events_for Announcement do
      track_on :create, :attributes => { :except => %w(updated_at) }
      notify :group => :members, :on => :create
    end
  end
end
</code></pre>

That's it!

h2. Installation

<pre><code>
  rails generate eventifier:install
  rake eventifier:install:migrations
</code></pre>

h4. Add required gems

<pre><code>
  # Gemfile
  group :assets do
    gem 'compass-rails'
    gem 'haml_coffee_assets'
    gem 'jbuilder'
  end
</code></pre>

h4. Add stylesheets

<pre><code>
  # app/assets/stylesheets/application.scss
  /*= require eventifier/notifications*/
</code></pre>

h4. Add javascript

<pre><code>
  # app/assets/javascripts/application.coffee
  #= require eventifier/notifications

  new NotificationDropdown el: $(".notifications")
</code></pre>

h4. Add the required routes

<pre><code>
  # config/routes.rb
  mount Eventifier::Engine => '/'
</code></pre>

h2. Sending of emails

You want to add a scheduled task to run the following task every x minutes

<pre><code>
  rake eventifier:email:deliver
</code></pre>

h2. Requirements

* ActiveRecord

h2. Testing

Creating the database:
* createdb eventifier

Spec
<pre><code>
  rspec spec
</code></pre>

h2. Contributors

* PJ Murray
